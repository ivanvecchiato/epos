(function(e){function t(t){for(var n,r,i=t[0],l=t[1],s=t[2],u=0,p=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&p.push(c[r][0]),c[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,s||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,i=1;i<o.length;i++){var l=o[i];0!==c[l]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},c={app:0},a=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var d=l;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0825":function(e){e.exports=JSON.parse('{"config":{"settings":"Impostazioni","parameters":"Parametri","data":"Dati","operators":"Operatori","description":"Descrizione","ask_delete":"Cancellare \'{description}\'?","deletion":"Cancellazione","delete_ok":"Cancellazione effettuata"},"floor":{"floor":"Piano tavoli","new_area":"Nuova area","places_number":"Numero di tavoli"},"cashier":{"cashier":"Cassa"},"pricelist":{"pricelist":"Listino","product":"Prodotto","products":"Prodotti","surcharges":"Maggiorazioni","discounts":"Sconti","deduction":"Deduzione","deletion":"Cancellazione","delete_ok":"Cancellazione effettuata","discount":"Sconto","default_value":"Valore predefinito","default_variation":"Variazione predefinita","update":"Aggiornamento"},"product":{"product":"Prodotto","products":"Prodotti","code":"Codice","category":"Categoria","name":"Nome","price":"Prezzo","cost":"Prezzo di acquisto","note":"Nota","wharehouse":"Magazzino","new":"Nuovo prodotto","view":"Mostra","edit":"Modifica","delete":"Elimina","duplicate":"Duplica","new_category":"Nuova categoria","available_for_takeaway":"Per asporto","available_for_remote_order":"Per ordine da remoto","open_note":"Compilare nota all\'inserimento","specify_price":"Specificare prezzo all\'emissione del conto","type":"Tipo","description":"Descrizione","settings":"Impostazioni","options":"Opzioni","vat":"Iva","favorite":"Preferito","unfavorite":"Rimuovi da preferiti"},"product_type":{"normal":"Normale","bundle":"Bundle","measure":"A peso","compose":"Composto","variant":"Variante","ingredient":"Ingrediente"},"stats":{"opened_bills":"Conti aperti","quantity":"Quantità","value":"Valore","total":"Totale","most_popular":"Più venduti"},"generic":{"floor":"Piano","date":"Data","working":"In lavorazione","cancel":"Annulla","ok":"OK","add":"Aggiungi","description":"Descrizione","type":"Tipo","percent":"percentuale","cash":"contanti","deletion":"Cancellazione","delete":"Cancella","label":"Etichetta","save_done":"Salvataggio effettuato","total":"Totale","save":"Salva","view":"Mostra","search":"Cerca"},"bill":{"amount":"Somma","bills":"Conti","product":"Prodotto","quantity":"Quantità","total":"Totale","note":"Nota","started":"iniziato:","subtotal":"Subtotale","discount":"Sconto","apply_discount":"Applica sconto","details":"Dettagli conto","closed":"Chiusi","parked":"Sospesi","search_by_range":"Ricerca per data/ora","save":"Salva","clear":"Clear","cash":"Incassa","docs_bills":"Documenti/Conti","conto_park":"Conto {place}","order":"Ordine","place":"Posto {description}","area":"Area {description}"},"booking":{"booking":"Prenotazione"},"customer":{"name":"Nome","firstname":"Nome","lastname":"Cognome","phone":"Telefono","city":"Città","country":"Stato","email":"email","address":"Indirizzo","zip":"CAP","province":"Provincia","customer":"Cliente","customers":"Clienti","guest":"Ospite","details":"Dettagli cliente","new":"Nuovo cliente","add_new":"Aggiungi cliente","cancel":"Annulla"},"modification":{"new_action":"Nuova operazione ","move":"Spostamento ","move_explain":"Selezionare la nuova posizione del conto","modification":"Modifica ","length_modification":"Modifica durata ","before":"Prima","after":"Dopo","room":"Camera"},"login":{"login":"Login","logout":"Esci","loggedin":"entrato/a","loggedout":"uscito/a","details":"Dettagli","error":"Accesso fallito","wrong_login":"login e/o password non valide"},"inventory":{"inventory":"Scorte","enabled":"Abilitato","availability":"Disponibilità","alarm":"Soglia di allarme","import":"Importa","export":"Esporta","ask_delete_product":"Rimuovere il prodotto?"}}')},2001:function(e,t,o){},"23a2":function(e,t,o){"use strict";o("4829")},2450:function(e,t,o){},"28a36":function(e,t,o){"use strict";o("ac17")},"2b36":function(e,t,o){},"2b80":function(e,t,o){},3501:function(e,t,o){},"3b73":function(e,t,o){},4025:function(e,t,o){"use strict";o("a6b5")},"40a0":function(e,t,o){"use strict";o("9545")},4829:function(e,t,o){},"488c":function(e,t,o){"use strict";o("f9c7")},"49f8":function(e,t,o){var n={"./it.json":"0825"};function c(e){var t=a(e);return o(t)}function a(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=a,e.exports=c,c.id="49f8"},"4a44":function(e,t,o){"use strict";o("b393")},"4bcf":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("159b"),o("d3b7"),o("ddb0"),o("ac1f"),o("466d");var n=o("7a23"),c=o("47e2"),a={id:"app"};function r(e,t,o,c,r,i){var l=Object(n["resolveComponent"])("home");return Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[Object(n["createVNode"])(l)])}var i=o("5a19"),l=o.n(i),s=Object(n["withScopeId"])("data-v-37aea3f4");Object(n["pushScopeId"])("data-v-37aea3f4");var d={id:"app"},u={class:"container"},p={key:0,class:"sidemenu"},b={class:"user"},f=Object(n["createVNode"])("img",{src:l.a},null,-1),h=Object(n["createVNode"])("i",{class:"el-icon-house"},null,-1),O=Object(n["createVNode"])("i",{class:"el-icon-menu"},null,-1),m=Object(n["createVNode"])("i",{class:"el-icon-document"},null,-1),j=Object(n["createVNode"])("i",{class:"el-icon-box"},null,-1),g=Object(n["createVNode"])("i",{class:"el-icon-setting"},null,-1),v={class:"center"};Object(n["popScopeId"])();var V=s((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-dropdown-item"),l=Object(n["resolveComponent"])("el-dropdown-menu"),V=Object(n["resolveComponent"])("el-dropdown"),N=Object(n["resolveComponent"])("el-menu-item"),y=Object(n["resolveComponent"])("el-menu"),C=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createBlock"])("div",d,[Object(n["createVNode"])("div",u,[1==a.loggedIn?(Object(n["openBlock"])(),Object(n["createBlock"])("div",p,[Object(n["createVNode"])("div",b,[Object(n["createVNode"])(V,{trigger:"click"},{dropdown:s((function(){return[Object(n["createVNode"])(l,null,{default:s((function(){return[Object(n["createVNode"])(i,{icon:"el-icon-avatar"},{default:s((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.userName()),1)]})),_:1}),Object(n["createVNode"])(i,{icon:"el-icon-right",onClick:r.logout},{default:s((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("login.logout")),1)]})),_:1},8,["onClick"])]})),_:1})]})),default:s((function(){return[f]})),_:1})]),Object(n["createVNode"])(y,{mode:"vertical",onSelect:r.handleSelect,collapse:a.isCollapse,"active-text-color":"#ffd04b"},{default:s((function(){return[Object(n["createVNode"])(N,{index:"1",onClick:r.openFrontend},{default:s((function(){return[h,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("cashier.cashier")),1)]})),_:1},8,["onClick"]),Object(n["createVNode"])(N,{index:"2",onClick:r.openFloor},{default:s((function(){return[O,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("floor.floor")),1)]})),_:1},8,["onClick"]),Object(n["createVNode"])(N,{index:"3",onClick:r.openBills},{default:s((function(){return[m,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("bill.bills")),1)]})),_:1},8,["onClick"]),Object(n["createVNode"])(N,{index:"4",onClick:r.openProducts},{default:s((function(){return[j,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("pricelist.products")),1)]})),_:1},8,["onClick"]),Object(n["createVNode"])(N,{index:"5",onClick:r.openSettings},{default:s((function(){return[g,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("config.settings")),1)]})),_:1},8,["onClick"])]})),_:1},8,["onSelect","collapse"])])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",v,[Object(n["createVNode"])(C)])])])})),N=(o("b0c0"),{id:0,loggedIn:!1,name:"",permissions:{},setUserLogged:function(e){this.id=e.id,this.loggedIn=e.loggedIn,this.name=e.name,this.permissions=e.permissions,localStorage.setItem("user",JSON.stringify(this))},logoutUser:function(){this.id=-1,this.loggedIn=!1,this.username="",this.password="",localStorage.removeItem("user")},isLogged:function(){return this.loggedIn},getUsername:function(){return this.username},getName:function(){return this.name},getId:function(){return this.id}}),y=N,C={name:"Home",components:{},data:function(){return{isCollapse:!0,loggedIn:!1}},methods:{handleSelect:function(e,t){console.log(e,t)},logged:function(){return y.isLogged()},logout:function(){this.loggedIn=!1,y.logoutUser(),this.$router.push("/login"),this.$emit("logout")},userName:function(){return y.name},openFloor:function(){this.$router.push("/floor")},openFrontend:function(){this.$router.push("/frontend")},openBills:function(){this.$router.push("/conti")},openProducts:function(){this.$router.push("/inventory")},openSettings:function(){this.$router.push("/settings")},checkAuth:function(){var e=JSON.parse(localStorage.getItem("user"));null!=e?(y.setUserLogged({loggedIn:!0,id:e.id,name:e.name,permissions:e.permissions}),this.loggedIn=!0,this.$router.push("/frontend")):(this.loggedIn=!1,this.$router.push("/login"))}},mounted:function(){this.checkAuth()}},k=(o("5a44"),o("d959")),D=o.n(k);const S=D()(C,[["render",V],["__scopeId","data-v-37aea3f4"]]);var _=S,w={name:"App",components:{Home:_},mounted:function(){}};o("40a0");const x=D()(w,[["render",r]]);var I=x,A=o("7864"),B=(o("7dd6"),o("eb36")),T=o.n(B),$=function(e){e.use(A["a"],{locale:T.a})},P=o("5530"),E=o("6c02"),L=Object(n["withScopeId"])("data-v-354a7544");Object(n["pushScopeId"])("data-v-354a7544");var F={class:"frontend"},z={class:"flex-item"},U={class:"search"},M={key:0,class:"title-2 info-conto"},R=Object(n["createTextVNode"])(" - "),H={class:"categories"},G={class:"center"},q={class:"fixed"},Q={class:"side"},K={key:0,class:"info-conto-2"},Z={style:{"vertical-align":"middle"}},Y={class:"bottom-header"},X={class:"note"},J={ref:"cart"},W={class:"flat-card"},ee={class:"subtotale-section"},te={class:"subtotale-label"},oe={class:"subtotale-amount"},ne={class:"sconto-label"},ce={key:0,style:{"margin-left":"10px"}},ae={class:"sconto-amount"},re={class:"totale-section"},ie={class:"totale-label"},le={class:"totale-amount"},se={class:"flat-card"},de={class:"buttons"},ue={class:"buttons",style:{"margin-top":"10px"}};Object(n["popScopeId"])();var pe=L((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-col"),l=Object(n["resolveComponent"])("el-avatar"),s=Object(n["resolveComponent"])("el-row"),d=Object(n["resolveComponent"])("el-button"),u=Object(n["resolveComponent"])("product-grid"),p=Object(n["resolveComponent"])("edit"),b=Object(n["resolveComponent"])("el-icon"),f=Object(n["resolveComponent"])("shopping-cart"),h=Object(n["resolveComponent"])("discount-widget"),O=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])("div",F,[Object(n["createVNode"])("div",z,[Object(n["createVNode"])(s,{align:"middle",gutter:20},{default:L((function(){return[Object(n["createVNode"])(i,{span:12},{default:L((function(){return[Object(n["createVNode"])("div",U,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"search-input",placeholder:e.$t("generic.search"),"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.search_pattern=e})},null,8,["placeholder"]),[[n["vModelText"],a.search_pattern]]),Object(n["createVNode"])("i",{class:"el-input__icon el-icon-search",onClick:t[2]||(t[2]=function(){return r.searchItem&&r.searchItem.apply(r,arguments)})})])]})),_:1}),Object(n["createVNode"])(i,{span:6,class:"text-align: right"},{default:L((function(){return[void 0!=o.place?(Object(n["openBlock"])(),Object(n["createBlock"])("div",M,[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("bill.place",{description:a.currentPlace.place})),1),R,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(a.currentPlace.area),1)])):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createVNode"])(i,{xs:6,sm:6,md:6,lg:4,xl:4,class:"text-align: right"},{default:L((function(){return[Object(n["createVNode"])("div",{class:"customer",onClick:t[3]||(t[3]=function(){return r.selectCustomer&&r.selectCustomer.apply(r,arguments)})},[Object(n["createVNode"])(l,{class:"avatar",size:"small",src:r.userIconUrl},null,8,["src"]),Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(r.customerName),1)])]})),_:1})]})),_:1}),Object(n["createVNode"])("div",H,[Object(n["createVNode"])(d,{type:"warning",circle:"",plain:"",size:"medium",icon:"el-icon-star-on",onClick:t[4]||(t[4]=function(t){return e.selectFavorites()})}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.categories,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(d,{type:"info",round:"",key:e.id,class:r.getButtonClass(e.id),onClick:function(t){return r.selectCategory(e)}},{default:L((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.name),1)]})),_:2},1032,["class","onClick"])})),128))]),Object(n["createVNode"])("div",G,[Object(n["createVNode"])(u,{data:a.products,onProductSelected:r.productSelected},null,8,["data","onProductSelected"])])]),Object(n["createVNode"])("div",q,[Object(n["createVNode"])("div",Q,[Object(n["createVNode"])("header",null,[1==a.billLoaded?(Object(n["openBlock"])(),Object(n["createBlock"])("div",K,[Object(n["createVNode"])(b,{style:{"vertical-align":"middle"},color:r.getAttentionColor,size:"14"},{default:L((function(){return[Object(n["createVNode"])(p)]})),_:1},8,["color"]),Object(n["createVNode"])("span",Z,Object(n["toDisplayString"])(r.billStart()),1)])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",Y,[Object(n["createVNode"])("div",X,[Object(n["createVNode"])(b,{size:24,onClick:[t[5]||(t[5]=Object(n["withModifiers"])((function(){}),["stop"])),r.setNote],color:r.getNoteColor},{default:L((function(){return[Object(n["createVNode"])(p)]})),_:1},8,["color","onClick"])])])]),Object(n["createVNode"])("main",J,[Object(n["createVNode"])("div",null,[Object(n["createVNode"])(f,{orderList:a.order.orderList,onChangeCart:r.changeCart,onDeleteItem:r.removeItem},null,8,["orderList","onChangeCart","onDeleteItem"])])],512),Object(n["createVNode"])("footer",null,[Object(n["createVNode"])("div",W,[Object(n["createVNode"])("div",ee,[Object(n["createVNode"])("span",te,Object(n["toDisplayString"])(e.$t("bill.subtotal")),1),Object(n["createVNode"])("span",oe,Object(n["toDisplayString"])(r.subtotale),1)]),Object(n["createVNode"])("div",{class:"sconto-section",onClick:t[6]||(t[6]=function(){return r.openDiscount&&r.openDiscount.apply(r,arguments)})},[Object(n["createVNode"])("div",ne,[Object(n["createVNode"])("span",null,[Object(n["createVNode"])(b,{style:{"vertical-align":"middle"}},{default:L((function(){return[Object(n["createVNode"])(p)]})),_:1}),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("bill.discount")),1)]),a.order.discount.value>0?(Object(n["openBlock"])(),Object(n["createBlock"])("span",ce,Object(n["toDisplayString"])(a.order.discount.rate)+"% ",1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])("span",ae,Object(n["toDisplayString"])(r.formatAmount(a.order.discount.value)),1)]),Object(n["createVNode"])("div",re,[Object(n["createVNode"])("span",ie,Object(n["toDisplayString"])(e.$t("bill.total")),1),Object(n["createVNode"])("span",le,Object(n["toDisplayString"])(r.totale),1)])]),Object(n["createVNode"])("div",se,[Object(n["createVNode"])("div",de,[Object(n["createVNode"])(d,{type:"danger",plain:"",class:"annulla",onClick:r.annullaConto},{default:L((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("bill.clear")),1)]})),_:1},8,["onClick"]),Object(n["createVNode"])(d,{type:"primary",class:"block",plain:"",onClick:r.parcheggiaConto},{default:L((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("bill.save")),1)]})),_:1},8,["onClick"])]),Object(n["createVNode"])("div",ue,[Object(n["createVNode"])(d,{type:"success",class:"block bold",onClick:r.pagaConto},{default:L((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("bill.cash")),1)]})),_:1},8,["onClick"])])])])])]),Object(n["createVNode"])(O,{title:e.$t("bill.discount"),modelValue:a.discountVisible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.discountVisible=e}),center:!1,width:"40%","destroy-on-close":""},{default:L((function(){return[Object(n["createVNode"])(h,{amount:a.order.totale,onApplyDiscount:r.applyDiscount},null,8,["amount","onApplyDiscount"])]})),_:1},8,["title","modelValue"])])})),be=o("9fb0"),fe=o.n(be),he=o("b651"),Oe=o.n(he),me=Object(n["withScopeId"])("data-v-641a8c0d");Object(n["pushScopeId"])("data-v-641a8c0d");var je={class:"grid"},ge={class:"card-top"},ve={class:"settings"},Ve={class:"product-name"},Ne={class:"card-bottom"},ye={key:0,class:"icons"},Ce={key:0,class:"indicator",src:fe.a},ke={key:1,class:"indicator",src:Oe.a},De={class:"product-price"};Object(n["popScopeId"])();var Se=me((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("setting"),l=Object(n["resolveComponent"])("el-icon"),s=Object(n["resolveComponent"])("el-dropdown-item"),d=Object(n["resolveComponent"])("el-dropdown-menu"),u=Object(n["resolveComponent"])("el-dropdown"),p=Object(n["resolveComponent"])("coin"),b=Object(n["resolveComponent"])("star");return Object(n["openBlock"])(),Object(n["createBlock"])("div",je,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(o.data,(function(o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"card",key:o.id,onClick:function(e){return r.selectProduct(o)}},[Object(n["createVNode"])("div",ge,[Object(n["createVNode"])("div",{class:"color-indicator",style:r.getBgc(o)},null,4),Object(n["createVNode"])("div",ve,[Object(n["createVNode"])(u,{trigger:"click"},{dropdown:me((function(){return[Object(n["createVNode"])(d,null,{default:me((function(){return[0==o.favorite?(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:0,icon:"el-icon-star-off",onClick:function(e){return r.heartProduct(o)}},{default:me((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.favorite")),1)]})),_:2},1032,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:1,icon:"el-icon-star-on",onClick:function(e){return r.deheartProduct(o)}},{default:me((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.unfavorite")),1)]})),_:2},1032,["onClick"])),Object(n["createVNode"])(s,{icon:"el-icon-edit",onClick:function(e){return r.editProduct(o)}},{default:me((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.edit")),1)]})),_:2},1032,["onClick"])]})),_:2},1024)]})),default:me((function(){return[Object(n["createVNode"])(l,{size:18,onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(){}),["stop"]))},{default:me((function(){return[Object(n["createVNode"])(i)]})),_:1})]})),_:2},1024)]),Object(n["createVNode"])("div",Ve,Object(n["toDisplayString"])(o.name),1)]),Object(n["createVNode"])("div",Ne,[r.atLeastOneProp(o)?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ye,[r.isToComplete(o.type)?(Object(n["openBlock"])(),Object(n["createBlock"])("img",Ce)):Object(n["createCommentVNode"])("",!0),r.isMeasure(o.type)?(Object(n["openBlock"])(),Object(n["createBlock"])("img",ke)):Object(n["createCommentVNode"])("",!0),r.isBundle(o.type)?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:2,size:18,color:"#409EFC"},{default:me((function(){return[Object(n["createVNode"])(p)]})),_:1})):Object(n["createCommentVNode"])("",!0),r.isFavorite(o)?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:3,size:18,color:"#eab676"},{default:me((function(){return[Object(n["createVNode"])(b)]})),_:1})):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",De,Object(n["toDisplayString"])(r.formatPrice(o.price)),1)])],8,["onClick"])})),128))])})),_e=(o("b680"),o("a9e3"),o("eb00")),we=o("e02d"),xe=o("8a63"),Ie=o("cc84"),Ae=(o("e71f"),{apiKey:"AIzaSyCG6GPbj83IzhcqDv3700cQP3oBVuHNtBY",authDomain:"mpos-dbce8.firebaseapp.com",projectId:"mpos-dbce8",storageBucket:"mpos-dbce8.appspot.com",messagingSenderId:"139969501580",appId:"1:139969501580:web:0e05cbe72050868a975ea9"}),Be=Ie["a"].initializeApp(Ae);Be.firestore().enablePersistence();var Te={db:Be.firestore()},$e={name:"ProductGrid",props:{data:Array},components:{Coin:_e["a"],Setting:we["a"],Star:xe["a"]},data:function(){return{bgc:{backgroundColor:"#fff"}}},methods:{getBgc:function(e){return""!=e.color?"background: "+e.color:""},atLeastOneProp:function(e){return this.isBundle(e.type)||this.isToComplete(e.type)||this.isMeasure(e.type)||this.isFavorite(e)},formatPrice:function(e){return Number(e).toFixed(2)},selectProduct:function(e){this.$emit("productSelected",e)},isToComplete:function(e){return 3==e},isBundle:function(e){return 1==e},isMeasure:function(e){return 2==e},isFavorite:function(e){return e.favorite},heartProduct:function(e){var t=Te.db.collection("products").doc(e.id);t.set({favorite:!0},{merge:!0})},deheartProduct:function(e){var t=Te.db.collection("products").doc(e.id);t.set({favorite:!1},{merge:!0})},editProduct:function(e){console.log("editProduct",e.name)}},mounted:function(){}};o("fa5c");const Pe=D()($e,[["render",Se],["__scopeId","data-v-641a8c0d"]]);var Ee=Pe,Le=Object(n["withScopeId"])("data-v-05d3bd74");Object(n["pushScopeId"])("data-v-05d3bd74");var Fe={class:"cart"},ze={class:"item-quantity"},Ue={class:"item-name"},Me={class:"item-note"},Re={class:"item-price"};Object(n["popScopeId"])();var He=Le((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("cart-item-details"),l=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])("div",Fe,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(o.orderList,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:e.id,class:"cart-item",onClick:function(o){return r.showItemDetails(t,e)}},[Object(n["createVNode"])("span",ze,Object(n["toDisplayString"])(e.quantity),1),Object(n["createVNode"])("span",Ue,Object(n["toDisplayString"])(e.name),1),Object(n["createVNode"])("span",Me,Object(n["toDisplayString"])(e.note),1),Object(n["createVNode"])("span",Re,Object(n["toDisplayString"])(r.formatPrice(e.price)),1)],8,["onClick"])})),128)),Object(n["createVNode"])(l,{title:a.currentItem.name,modelValue:a.showModifications,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.showModifications=e}),center:!1,width:"40%","destroy-on-close":""},{default:Le((function(){return[Object(n["createVNode"])(i,{data:a.currentItem,onOnChange:r.onChange,onOnDelete:r.onDelete},null,8,["data","onOnChange","onOnDelete"])]})),_:1},8,["title","modelValue"])])})),Ge=Object(n["withScopeId"])("data-v-7fc0cec9");Object(n["pushScopeId"])("data-v-7fc0cec9");var qe={class:"details"};Object(n["popScopeId"])();var Qe=Ge((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-col"),l=Object(n["resolveComponent"])("el-input-number"),s=Object(n["resolveComponent"])("el-button"),d=Object(n["resolveComponent"])("el-row"),u=Object(n["resolveComponent"])("el-input");return Object(n["openBlock"])(),Object(n["createBlock"])("div",qe,[Object(n["createVNode"])(d,{gutter:20,align:"middle"},{default:Ge((function(){return[Object(n["createVNode"])(i,{span:4},{default:Ge((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("bill.quantity")),1)]})),_:1}),Object(n["createVNode"])(i,{span:6},{default:Ge((function(){return[Object(n["createVNode"])(l,{modelValue:a.item.quantity,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.item.quantity=e}),size:"small",min:1,max:99},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{span:2},{default:Ge((function(){return[Object(n["createVNode"])(s,{size:"small",type:"danger",icon:"el-icon-delete",circle:"",plain:"",onClick:r.deleteItem},null,8,["onClick"])]})),_:1})]})),_:1}),Object(n["createVNode"])(d,{gutter:20,align:"middle"},{default:Ge((function(){return[Object(n["createVNode"])(i,{span:4},{default:Ge((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.price")),1)]})),_:1}),Object(n["createVNode"])(i,{span:4},{default:Ge((function(){return[Object(n["createVNode"])(u,{modelValue:a.item.price,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.item.price=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(n["createVNode"])(d,{gutter:20,align:"middle"},{default:Ge((function(){return[Object(n["createVNode"])(i,{span:4},{default:Ge((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.note")),1)]})),_:1}),Object(n["createVNode"])(i,{span:12},{default:Ge((function(){return[Object(n["createVNode"])(u,{type:"textarea",modelValue:a.item.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.item.note=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(n["createVNode"])(s,{type:"primary",plain:"",round:"",class:"block",onClick:r.saveModifications},{default:Ge((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("generic.save")),1)]})),_:1},8,["onClick"])])})),Ke={name:"CartItemDetail",props:["data"],data:function(){return{item:{}}},computed:{},methods:{deleteItem:function(){this.$emit("onDelete")},saveModifications:function(){this.$emit("onChange",this.item)}},mounted:function(){this.item=Object.assign({},this.data)}};o("4025");const Ze=D()(Ke,[["render",Qe],["__scopeId","data-v-7fc0cec9"]]);var Ye=Ze,Xe={name:"ShoppingCart",components:{CartItemDetails:Ye},props:["orderList"],data:function(){return{showModifications:!1,currentItem:{},currentIndex:-1}},methods:{onDelete:function(){this.$emit("deleteItem",this.currentIndex),this.showModifications=!1},onChange:function(e){this.currentItem.quantity=e.quantity,this.currentItem.note=e.note,this.currentItem.price=e.price,this.$emit("changeCart"),this.showModifications=!1},showItemDetails:function(e,t){this.currentItem=t,this.currentIndex=e,this.showModifications=!0},formatPrice:function(e){return Number(e).toFixed(2)},incrementItem:function(e){this.$emit("incrementItem",e)},decrementItem:function(e){this.$emit("decrementItem",e)},removeItem:function(e){this.$emit("removeItem",e)}}};o("56e5");const Je=D()(Xe,[["render",He],["__scopeId","data-v-05d3bd74"]]);var We=Je,et=Object(n["withScopeId"])("data-v-10ce5558");Object(n["pushScopeId"])("data-v-10ce5558");var tt={style:{"text-align":"center"}},ot={class:"discount"},nt={class:"starting-amount"},ct={class:"discount-type"},at={class:"result"};Object(n["popScopeId"])();var rt=et((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-radio-button"),l=Object(n["resolveComponent"])("el-radio-group"),s=Object(n["resolveComponent"])("numeric-keypad"),d=Object(n["resolveComponent"])("el-button");return Object(n["openBlock"])(),Object(n["createBlock"])("div",tt,[Object(n["createVNode"])("div",ot,[Object(n["createVNode"])("div",nt,Object(n["toDisplayString"])(e.$t("bill.total"))+"   "+Object(n["toDisplayString"])(o.amount),1),Object(n["createVNode"])("div",ct,[Object(n["createVNode"])(l,{modelValue:a.discount.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.discount.type=e}),size:"medium",onChange:r.changeDiscountType},{default:et((function(){return[Object(n["createVNode"])(i,{label:e.$t("generic.cash")},null,8,["label"]),Object(n["createVNode"])(i,{label:e.$t("generic.percent")},null,8,["label"])]})),_:1},8,["modelValue","onChange"])]),Object(n["createVNode"])(s,{amount:o.amount,onInputChange:r.inputChange},null,8,["amount","onInputChange"]),Object(n["createVNode"])("div",at,Object(n["toDisplayString"])(e.$t("bill.discount"))+"   "+Object(n["toDisplayString"])(a.discount.value),1),Object(n["createVNode"])(d,{type:"success",class:"block",onClick:r.applyDiscount},{default:et((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("bill.apply_discount")),1)]})),_:1},8,["onClick"])])])})),it=Object(n["withScopeId"])("data-v-b6acce3a");Object(n["pushScopeId"])("data-v-b6acce3a");var lt={style:{"text-align":"center"}},st={class:"input"},dt={class:"keypad"};Object(n["popScopeId"])();var ut=it((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-button");return Object(n["openBlock"])(),Object(n["createBlock"])("div",lt,[Object(n["createVNode"])("span",st,Object(n["toDisplayString"])(a.input),1),Object(n["createVNode"])("div",dt,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.keys,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e,onClick:function(t){return r.press(e)},type:"primary",plain:""},{default:it((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e),1)]})),_:2},1032,["onClick"])})),128))])])})),pt={name:"NumericKeypad",props:{showInput:{default:!0,type:Boolean}},data:function(){return{input:"",keys:[1,2,3,4,5,6,7,8,9,0,".","C"]}},components:{},computed:{},methods:{press:function(e){"C"==e?this.input="":this.input+=e,this.$emit("inputChange",this.input)}},mounted:function(){}};o("488c");const bt=D()(pt,[["render",ut],["__scopeId","data-v-b6acce3a"]]);var ft=bt,ht={name:"DiscountWidget",props:["amount"],data:function(){return{discount:{type:this.$t("generic.cash"),value:0}}},components:{NumericKeypad:ft},computed:{},methods:{inputChange:function(e){if(this.discount.type==this.$t("generic.percent")){var t=Number(e);this.discount.rate=t,this.discount.value=this.amount*t/100}else this.discount.value=Number(e),this.discount.rate=(100*this.discount.value/this.amount).toFixed(2)},applyDiscount:function(){this.$emit("applyDiscount",this.discount)},changeDiscountType:function(e){console.log("changeDiscountType",e)}},mounted:function(){}};o("b7be");const Ot=D()(ht,[["render",rt],["__scopeId","data-v-10ce5558"]]);var mt=Ot,jt=o("d4ec"),gt=o("bee2"),vt=(o("a434"),o("b64b"),o("a4d3"),o("e01a"),function e(t,o,n){Object(jt["a"])(this,e),this.index=t,this.description=o,this.amount=n}),Vt=function(){function e(){Object(jt["a"])(this,e),this.id="",this.docId=0,this.operator={id:0,name:""},this.orderList=[],this.place="",this.note="",this.createdAt=new Date,this.lastModified=new Date,this.done=!1,this.id_order=Date.now(),this.modifiers=[],this.payments=[],this.totale=0,this.discount={type:0,rate:0,value:0},this.status=0,this.chiusura=0,this.source=0,this.customer=null}return Object(gt["a"])(e,[{key:"getTotale",value:function(){var e=0;return this.orderList.forEach((function(t){e+=t.price*t.quantity})),this.totale=e,e}},{key:"getTotaleNetto",value:function(){var e=0;return this.orderList.forEach((function(t){e+=t.price*t.quantity})),this.totale=e,e-this.discount.value}},{key:"setDiscount",value:function(e){this.discount=e,this.saveCache()}},{key:"size",value:function(){return void 0===this.orderList?0:this.orderList.length}},{key:"getQuantity",value:function(){for(var e=0,t=0;t<this.size();t++)e+=this.orderList[t].quantity;return e}},{key:"addPayment",value:function(e,t,o){this.payments.push(Object.assign({},new vt(e,t,o)))}},{key:"addCustomer",value:function(e){this.customer=Object.assign({},e)}},{key:"clear",value:function(){this.orderList=[],this.clearDiscount(),this.clearPayments(),localStorage.removeItem("cart")}},{key:"clearDiscount",value:function(){this.discount={type:0,rate:0,value:0}}},{key:"clearPayments",value:function(){this.payments=[]}},{key:"removeItem",value:function(e){this.orderList.splice(e,1),this.saveCache()}},{key:"incrementItem",value:function(e){this.orderList[e].quantity++,this.saveCache()}},{key:"decrementItem",value:function(e){1==this.orderList[e].quantity?this.removeItem(e):this.orderList[e].quantity--,this.saveCache()}},{key:"addItem",value:function(e){for(var t=!1,o=0;o<this.size();o++){var n=this.orderList[o];if(n.id===e.id){n.quantity++,t=!0;break}}return t||(e.quantity=1,e.insertTime=(new Date).getTime(),this.orderList.push(Object.assign({},e))),this.saveCache(),this.size()}},{key:"saveCache",value:function(){localStorage.setItem("cart",JSON.stringify(this))}},{key:"setClosed",value:function(e){this.lastModified=new Date,this.status=e,this.totale=this.getTotale(),this.writeDoc()}},{key:"update",value:function(){this.getTotale()}},{key:"writeDoc",value:function(){""==this.id?(console.log("writeDoc",Object.assign({},this)),Te.db.collection("conti").add(Object.assign({},this)).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))):Te.db.collection("conti").doc(this.id).set(Object.assign({},this),{merge:!0}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}},{key:"fillData",value:function(e){var t=this,o=Object.keys(this);o.forEach((function(o){t[o]=e[o]}))}}]),e}(),Nt=function(){function e(){Object(jt["a"])(this,e),this.id="",this.room={id:0,name:""},this.name="",this.places=2,this.order=new Vt}return Object(gt["a"])(e,[{key:"updateConto",value:function(e,t){Te.db.collection("park").doc(e).set({order:Object.assign({},t)},{merge:!0}).then((function(){console.log("Document successfully written!"),t.clear()})).catch((function(e){console.error("Error writing document: ",e)}))}}]),e}(),yt=o("359c"),Ct=function(){function e(){Object(jt["a"])(this,e),this.id=0,this.firstName="",this.lastName="",this.type=1,this.address={city:"",zip:"",address:"",state:""},this.contact={email:"",phone:"",other:""},this.fidelity={code:"",credits:""},this.notes=""}return Object(gt["a"])(e,[{key:"randomize",value:function(){yt.locale="it",this.firstName=yt.name.firstName(),this.lastName=yt.name.lastName(),this.contact.email=yt.internet.email(),this.contact.phone=yt.phone.phoneNumber(),this.address.city=yt.address.city(),this.address.city=yt.address.city(),this.address.zip=yt.address.zipCode(),this.address.address=yt.address.streetAddress()}}]),e}(),kt=(o("53194"),o("25f0"),{formatCurrency:function(e){return Number(e).toFixed(2)},uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,o="x"==e?t:3&t|8;return o.toString(16)}))},toDate:function(e){return e.toDate().toLocaleDateString()},toLocaleDateTimeString:function(e){var t=e.getHours();t<10&&(t="0"+t);var o=e.getMinutes();o<10&&(o="0"+o);var n=e.toLocaleDateString()+" ";return n+=t+":"+o,n},toDateTime:function(e){var t=e.toDate(),o=t.getHours();o<10&&(o="0"+o);var n=t.getMinutes();n<10&&(n="0"+n);var c=t.toLocaleDateString()+" ";return c+=o+":"+n,c},daysInMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),0).getDate()},addDays:function(e,t){var o=new Date(e);return o.setDate(o.getDate()+t),o},diffDays:function(e,t){var o=Math.abs(t-e),n=Math.ceil(o/864e5);return n},getRandomArbitrary:function(e,t){return Math.random()*(t-e)+e},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},componentToHex:function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},rgbToHex:function(e,t,o){return"#"+this.componentToHex(e)+this.componentToHex(t)+this.componentToHex(o)},hexToRgb:function(e,t){var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(o){var n=parseInt(o[1],16),c=parseInt(o[2],16),a=parseInt(o[3],16);return"rgb("+n+","+c+","+a+","+t+")"}return""}}),Dt=o("359c"),St=function(){function e(){Object(jt["a"])(this,e),this.id="",this.code=0,this.category={id:0,name:"none"},this.name="",this.description="",this.price=0,this.cost=0,this.type=0,this.vat={vatIndex:1,vatRate:10},this.measure="unit",this.price_to_be_confirmed=!1,this.open_note=!1,this.barcodes=[],this.takeaway=!1,this.remote_order=!1,this.inventory={enabled:!1,availability:0,alarm:0},this.description="",this.imgUrl="",this.status=1,this.color="#FFFFFF"}return Object(gt["a"])(e,[{key:"randomize",value:function(){Dt.locale="it",this.name=Dt.commerce.productName(),this.id=Dt.datatype.uuid(),this.code=Dt.datatype.number(),this.open_note=kt.getRandomInt(1,4)>1,this.price=Dt.commerce.price(),this.imgUrl=Dt.image.food(),this.type=kt.getRandomInt(1,4)}}]),e}(),_t=o("0480"),wt={name:"Frontend",components:{ProductGrid:Ee,ShoppingCart:We,DiscountWidget:mt,Edit:_t["a"]},props:["place","room"],data:function(){return{categories:[],products:[],currentCategory:null,order:new Vt,park:new Nt,currentPlace:{area:"",place:""},discountVisible:!1,billLoaded:!1,search_pattern:""}},computed:{customerName:function(){return null!=this.order.customer?this.order.customer.name:this.$t("customer.add_new")},getNoteColor:function(){return""==this.order.note?"#cccaaa":"#ff6b6b"},getAttentionColor:function(){return"#ff6b6b"},userIconUrl:function(){return o("c121")},subtotale:function(){return kt.formatCurrency(this.order.getTotale())},totale:function(){return kt.formatCurrency(this.order.getTotaleNetto())}},methods:{searchItem:function(){},selectCustomer:function(){},billStart:function(){if(this.billLoaded)return kt.toDateTime(this.order.createdAt)},setNote:function(){var e=this;this.$prompt("",this.$t("bill.note"),{confirmButtonText:this.$t("generic.ok"),cancelButtonText:this.$t("generic.cancel")}).then((function(t){var o=t.value;e.order.note=o,e.order.saveCache()})).catch((function(){}))},openDiscount:function(){0!=this.order.size()&&(this.discountVisible=!0)},getButtonClass:function(e){return null==this.currentCategory||e!=this.currentCategory.id?"button-idle":"button-active"},formatAmount:function(e){return kt.formatCurrency(e)},getPzs:function(){return this.order.getQuantity()},selectCategory:function(e){this.currentCategory=e,this.products=this.getProducts(e)},productSelected:function(e){e.open_note?this.openNote(e):this.addItem(e)},addItem:function(e){var t=this,o=this.order.addItem(e);console.log("productSelected",o),this.$nextTick((function(){var e=t.$refs.cart;e.scrollTop=e.scrollHeight}))},openNote:function(e){var t=this;this.$prompt(this.$t("product.note"),e.name,{confirmButtonText:this.$t("generic.ok"),cancelButtonText:this.$t("generic.cancel")}).then((function(o){var n=o.value;e.note=n,t.addItem(e)})).catch((function(){t.addItem(e)}))},removeItem:function(e){this.order.removeItem(e)},incrementItem:function(e){this.order.incrementItem(e)},decrementItem:function(e){this.order.decrementItem(e)},changeCart:function(){this.order.saveCache()},getProducts:function(e){var t=this;Te.db.collection("products").where("category.id","==",e.id).where("status","==",1).onSnapshot((function(e){t.products=[],e.forEach((function(e){var o=e.data();o.id=e.id,t.products.push(o)}))}))},getFakeProducts:function(){for(var e=20,t=[],o=0;o<e;o++){var n=new St;n.randomize(),t.push(n)}return t},annullaConto:function(){this.order.clear()},pagaConto:function(){this.order.addPayment(0,"contanti",this.order.getTotale());var e=new Ct;e.randomize(),this.order.addCustomer(e),console.log(this.order),this.order.setClosed(1)},loadCategories:function(){var e=this;Te.db.collection("categories").orderBy("id").onSnapshot((function(t){t.forEach((function(t){var o=t.data();e.categories.push(o),e.loadPreferiti()}))}))},loadPreferiti:function(){var e=this;Te.db.collection("products").where("favorite","==",!0).where("status","==",1).onSnapshot((function(t){e.products=[],t.forEach((function(t){var o=t.data();o.id=t.id,e.products.push(o)}))}))},parcheggiaConto:function(){if(this.order.update(),0==this.place.length||"undefined"==this.place)this.$router.push("/floor");else{var e=new Nt;e.updateConto(this.place,this.order)}},loadConto:function(){var e=this,t=Te.db.collection("park").doc(this.place);t.get().then((function(t){t.exists?(console.log("Document data:",t.data()),e.park.id=t.id,e.park.name=t.data().name,e.park.places=t.data().places,t.data().order.orderList.length>0&&(e.order.fillData(t.data().order),e.billLoaded=!0)):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))},applyDiscount:function(e){this.order.setDiscount(e),this.discountVisible=!1},isPercentDiscount:function(){return this.order.discount.type==this.$t("generic.percent")}},mounted:function(){if(void 0!=this.place&&0!=this.place.length)this.currentPlace={area:JSON.parse(this.room).name,place:this.place},console.log("Frontend",this.currentPlace),this.loadConto();else{var e=localStorage.getItem("cart");if(null!=e&&e.length>0){var t=JSON.parse(e);this.order.fillData(t)}else this.order.place=this.place,this.order.operator={id:y.id,name:y.name}}this.loadCategories()}};o("e9c9");const xt=D()(wt,[["render",pe],["__scopeId","data-v-354a7544"]]);var It=xt,At=Object(n["withScopeId"])("data-v-090e6844");Object(n["pushScopeId"])("data-v-090e6844");var Bt={class:"title"};Object(n["popScopeId"])();var Tt=At((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("conti-chiusi"),l=Object(n["resolveComponent"])("el-tab-pane"),s=Object(n["resolveComponent"])("conti-parcheggiati"),d=Object(n["resolveComponent"])("el-tabs");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("div",Bt,Object(n["toDisplayString"])(e.$t("bill.docs_bills")),1),Object(n["createVNode"])(d,{class:"conti-tab",type:"card",onTabClick:r.handleTabClick},{default:At((function(){return[Object(n["createVNode"])(l,{label:e.$t("bill.closed")},{default:At((function(){return[Object(n["createVNode"])(i)]})),_:1},8,["label"]),Object(n["createVNode"])(l,{label:e.$t("bill.parked")},{default:At((function(){return[Object(n["createVNode"])(s)]})),_:1},8,["label"])]})),_:1},8,["onTabClick"])])})),$t=Object(n["withScopeId"])("data-v-474642da");Object(n["pushScopeId"])("data-v-474642da");var Pt={class:"list"},Et={class:"card-header"},Lt={class:"stats-totale"},Ft={class:"stats-totale stats-amount"},zt={class:"stats-totale"},Ut={class:"stats-totale stats-amount"},Mt={class:"card-header"},Rt={class:"card-header"};Object(n["popScopeId"])();var Ht=$t((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-table-column"),l=Object(n["resolveComponent"])("el-button"),s=Object(n["resolveComponent"])("el-table"),d=Object(n["resolveComponent"])("apexchart"),u=Object(n["resolveComponent"])("el-card"),p=Object(n["resolveComponent"])("bill-detail"),b=Object(n["resolveComponent"])("el-dialog"),f=Object(n["resolveComponent"])("el-col"),h=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(h,null,{default:$t((function(){return[Object(n["createVNode"])(f,{span:12},{default:$t((function(){return[Object(n["createVNode"])("div",Pt,[Object(n["createVNode"])(s,{data:a.tableData,height:"400",style:{width:"100%"}},{default:$t((function(){return[Object(n["createVNode"])(i,{prop:"date",label:e.$t("generic.date"),width:"180"},null,8,["label"]),Object(n["createVNode"])(i,{prop:"amount",label:e.$t("bill.amount"),width:"180"},null,8,["label"]),Object(n["createVNode"])(i,{label:"",width:"100"},{default:$t((function(e){return[Object(n["createVNode"])(l,{icon:"el-icon-view",size:"mini",onClick:function(t){return r.handleDetail(e.$index,e.row)}},null,8,["onClick"])]})),_:1})]})),_:1},8,["data"])]),Object(n["createVNode"])(u,{class:"box-card",shadow:"hover"},{header:$t((function(){return[Object(n["createVNode"])("div",Et,[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("stats.most_popular")),1)])]})),default:$t((function(){return[Object(n["createVNode"])(d,{width:"500",type:"bar",options:a.barchartOptions,series:a.docsPopularSeries},null,8,["options","series"])]})),_:1}),Object(n["createVNode"])("div",null,[Object(n["createVNode"])(b,{title:e.$t("bill.details"),modelValue:a.detailVisible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.detailVisible=e}),"destroy-on-close":"",width:"70%"},{default:$t((function(){return[Object(n["createVNode"])(p,{data:e.currentBill,key:r.randKey},null,8,["data"])]})),_:1},8,["title","modelValue"])])]})),_:1}),Object(n["createVNode"])(f,{span:12},{default:$t((function(){return[Object(n["createVNode"])(h,null,{default:$t((function(){return[Object(n["createVNode"])(f,{span:12},{default:$t((function(){return[Object(n["createVNode"])(u,{class:"box-card",shadow:"hover"},{default:$t((function(){return[Object(n["createVNode"])("span",Lt,Object(n["toDisplayString"])(e.$t("stats.total")),1),Object(n["createVNode"])("span",Ft,Object(n["toDisplayString"])(r.formatAmount(a.docsStats.sospeso)),1)]})),_:1})]})),_:1}),Object(n["createVNode"])(f,{span:12},{default:$t((function(){return[Object(n["createVNode"])(u,{class:"box-card",shadow:"hover"},{default:$t((function(){return[Object(n["createVNode"])("span",zt,Object(n["toDisplayString"])(e.$t("stats.opened_bills")),1),Object(n["createVNode"])("span",Ut,Object(n["toDisplayString"])(a.docsStats.contiAperti),1)]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(h,null,{default:$t((function(){return[Object(n["createVNode"])(f,{span:24},{default:$t((function(){return[Object(n["createVNode"])(u,{class:"box-card",shadow:"hover"},{header:$t((function(){return[Object(n["createVNode"])("div",Mt,[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("stats.quantity")),1)])]})),default:$t((function(){return[Object(n["createVNode"])(d,{width:"500",type:"line",options:a.docsChartOptions,series:a.docsVendutoSeries},null,8,["options","series"])]})),_:1}),Object(n["createVNode"])(u,{class:"box-card",shadow:"hover"},{header:$t((function(){return[Object(n["createVNode"])("div",Rt,[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("stats.value")),1)])]})),default:$t((function(){return[Object(n["createVNode"])(d,{width:"500",type:"line",options:a.docsChartOptions,series:a.docsIncassatoSeries},null,8,["options","series"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])})),Gt=(o("4e82"),Object(n["withScopeId"])("data-v-3c817753"));Object(n["pushScopeId"])("data-v-3c817753");var qt={class:"details"},Qt={class:"bill-details"},Kt={class:"product"},Zt={class:"note"},Yt={class:"amount"},Xt={class:"totale"};Object(n["popScopeId"])();var Jt=Gt((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-table-column"),l=Object(n["resolveComponent"])("el-table"),s=Object(n["resolveComponent"])("el-col"),d=Object(n["resolveComponent"])("customer-detail"),u=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createBlock"])("div",qt,[Object(n["createVNode"])(u,{gutter:20},{default:Gt((function(){return[Object(n["createVNode"])(s,{span:16},{default:Gt((function(){return[Object(n["createVNode"])("div",Qt,[Object(n["createVNode"])(l,{data:a.tableData,style:{width:"100%"}},{default:Gt((function(){return[Object(n["createVNode"])(i,{prop:"quantity",label:e.$t("bill.quantity"),width:"100"},null,8,["label"]),Object(n["createVNode"])(i,{prop:"product",label:e.$t("bill.product"),width:"300"},{default:Gt((function(e){return[Object(n["createVNode"])("div",Kt,Object(n["toDisplayString"])(e.row.product),1),Object(n["createVNode"])("div",Zt,Object(n["toDisplayString"])(e.row.note),1)]})),_:1},8,["label"]),Object(n["createVNode"])(i,{label:e.$t("bill.amount"),width:"150"},{default:Gt((function(e){return[Object(n["createVNode"])("div",Yt,Object(n["toDisplayString"])(e.row.amount),1)]})),_:1},8,["label"])]})),_:1},8,["data"])]),Object(n["createVNode"])("div",Xt,Object(n["toDisplayString"])(r.getTotale),1)]})),_:1}),null!=o.data.data.customer?(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:0,span:8},{default:Gt((function(){return[Object(n["createVNode"])(d,{data:o.data.data.customer},null,8,["data"])]})),_:1})):Object(n["createCommentVNode"])("",!0)]})),_:1})])})),Wt=Object(n["withScopeId"])("data-v-734e6b0a");Object(n["pushScopeId"])("data-v-734e6b0a");var eo={class:"card"},to={class:"customer-name"},oo=Object(n["createVNode"])("i",{class:"el-icon-user"},null,-1),no=Object(n["createVNode"])("span",null," ",-1),co={class:"customer-address"},ao=Object(n["createVNode"])("i",{class:"el-icon-location-information"},null,-1),ro=Object(n["createVNode"])("span",null," ",-1),io=Object(n["createVNode"])("span",null," ",-1),lo=Object(n["createVNode"])("hr",null,null,-1),so={class:"customer-contact"},uo=Object(n["createVNode"])("i",{class:"el-icon-phone"},null,-1),po=Object(n["createVNode"])("i",{class:"el-icon-chat-line-round"},null,-1);Object(n["popScopeId"])();var bo=Wt((function(e,t,o,c,a,r){return Object(n["openBlock"])(),Object(n["createBlock"])("div",eo,[Object(n["createVNode"])("p",to,[Object(n["createVNode"])("span",null,[oo,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(o.data.firstName),1)]),no,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.data.lastName),1)]),Object(n["createVNode"])("div",co,[Object(n["createVNode"])("span",null,[ao,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(o.data.address.address),1)]),ro,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.data.address.zip),1),io,Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(o.data.address.city),1)]),lo,Object(n["createVNode"])("div",so,[Object(n["createVNode"])("p",null,[uo,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(o.data.contact.phone),1)]),Object(n["createVNode"])("p",null,[po,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(o.data.contact.email),1)])])])})),fo={name:"CustomerDetail",props:["data"],data:function(){return{product:{}}},mounted:function(){}};o("6e99");const ho=D()(fo,[["render",bo],["__scopeId","data-v-734e6b0a"]]);var Oo=ho,mo={name:"BillDetail",props:["data"],data:function(){return{tableData:[]}},components:{CustomerDetail:Oo},computed:{getTotale:function(){return this.$t("bill.total")+": "+this.data.data.totale.toFixed(2)}},methods:{handleDetails:function(){this.tableData=[];for(var e=this.data.data.orderList,t=0;t<e.length;t++)this.tableData.push({quantity:e[t].quantity,product:e[t].name,note:e[t].note,amount:(e[t].quantity*e[t].price).toFixed(2)})}},mounted:function(){this.handleDetails()}};o("e8f6");const jo=D()(mo,[["render",Jt],["__scopeId","data-v-3c817753"]]);var go=jo,vo=o("ae27"),Vo=o.n(vo),No={name:"ContiChiusi",components:{BillDetail:go,apexchart:Vo.a},data:function(){return{detailVisible:!1,tableData:[],docsChartOptions:{chart:{id:"venduto"},xaxis:{categories:[]},stroke:{curve:"smooth"}},barchartOptions:{chart:{id:"popular"},xaxis:{categories:[]},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1}},docsVendutoSeries:[{name:"venduto",data:[]}],docsIncassatoSeries:[{name:"incassato",data:[]}],docsPopularSeries:[{name:"popular",data:[]}],docsStats:{sospeso:0,contiAperti:0,collection:{}}}},methods:{formatAmount:function(e){return e.toFixed(2)},loadDefaultData:function(){var e=this;Te.db.collection("conti").orderBy("lastModified","desc").onSnapshot((function(t){e.docs=[],t.forEach((function(t){var o=t.data();e.docs.push({id:t.id,data:o})})),e.handleDocs()}))},handleDocs:function(){this.tableData=[],this.docsPopularSeries[0].data=[],this.docsVendutoSeries[0].data=[],this.docsIncassatoSeries[0].data=[],this.docsStats.sospeso=0,this.docsStats.contiAperti=0,this.docsStats.collection={};for(var e=0;e<=16;e++)this.docsVendutoSeries[0].data[e]=0,this.docsIncassatoSeries[0].data[e]=0;for(var t=0;t<this.docs.length;t++)this.tableData.push({date:kt.toDateTime(this.docs[t].data.lastModified),amount:this.docs[t].data.totale.toFixed(2)}),this.collectData(this.docs[t].data.orderList);console.log("collectData",this.docsStats.collection);var o=this.getSortedKeys(this.docsStats.collection);for(t=0;t<Math.min(20,o.length);t++)this.barchartOptions.xaxis.categories[t]=o[t],this.docsPopularSeries[0].data[t]=this.docsStats.collection[o[t]]},collectData:function(e){for(var t=0;t<e.length;t++){var o=new Date(e[t].insertTime),n=o.getHours();this.docsVendutoSeries[0].data[n-8]++,this.docsIncassatoSeries[0].data[n-8]+=e[t].price*e[t].quantity,e[t].name in this.docsStats.collection?this.docsStats.collection[e[t].name]+=e[t].quantity:this.docsStats.collection[e[t].name]=e[t].quantity}},getSortedKeys:function(e){var t=Object.keys(e);return t.sort((function(t,o){return e[o]-e[t]}))},randKey:function(){return Math.random()},handleDetail:function(e){this.currentBill=this.docs[e],this.detailVisible=!0},initGraphOptions:function(){for(var e=8;e<=24;e++)this.docsChartOptions.xaxis.categories[e-8]=e}},mounted:function(){this.loadDefaultData(),this.initGraphOptions()}};o("edd6");const yo=D()(No,[["render",Ht],["__scopeId","data-v-474642da"]]);var Co=yo,ko=Object(n["withScopeId"])("data-v-3922cc39");Object(n["pushScopeId"])("data-v-3922cc39");var Do={style:{"text-align":"left"}},So=Object(n["createTextVNode"])("    "),_o={class:"list"},wo={class:"card-header"},xo={class:"stats-totale"},Io={class:"stats-totale stats-amount"},Ao={class:"stats-totale"},Bo={class:"stats-totale stats-amount"},To={class:"card-header"},$o={class:"card-header"};Object(n["popScopeId"])();var Po=ko((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-checkbox"),l=Object(n["resolveComponent"])("el-date-picker"),s=Object(n["resolveComponent"])("el-form-item"),d=Object(n["resolveComponent"])("el-table-column"),u=Object(n["resolveComponent"])("el-button"),p=Object(n["resolveComponent"])("el-table"),b=Object(n["resolveComponent"])("apexchart"),f=Object(n["resolveComponent"])("el-card"),h=Object(n["resolveComponent"])("bill-detail"),O=Object(n["resolveComponent"])("el-dialog"),m=Object(n["resolveComponent"])("el-col"),j=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("div",Do,[Object(n["createVNode"])(s,null,{default:ko((function(){return[Object(n["createVNode"])(i,{modelValue:a.searchByRange,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.searchByRange=e}),onChange:r.rangeChecked},{default:ko((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("bill.search_by_range")),1)]})),_:1},8,["modelValue","onChange"]),So,Object(n["createVNode"])(l,{modelValue:a.daterange,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.daterange=e}),type:"datetimerange",disabled:0==a.searchByRange,onChange:r.selectRange,"range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},null,8,["modelValue","disabled","onChange"])]})),_:1})]),Object(n["createVNode"])(j,null,{default:ko((function(){return[Object(n["createVNode"])(m,{span:12},{default:ko((function(){return[Object(n["createVNode"])("div",_o,[Object(n["createVNode"])(p,{data:a.tableData,style:{width:"100%"}},{default:ko((function(){return[Object(n["createVNode"])(d,{prop:"date",label:e.$t("generic.date"),width:"180"},null,8,["label"]),Object(n["createVNode"])(d,{prop:"amount",label:e.$t("bill.amount"),width:"180"},null,8,["label"]),Object(n["createVNode"])(d,{label:"",width:"100"},{default:ko((function(e){return[Object(n["createVNode"])(u,{icon:"el-icon-view",size:"mini",onClick:function(t){return r.handleDetail(e.$index,e.row)}},null,8,["onClick"])]})),_:1})]})),_:1},8,["data"])]),Object(n["createVNode"])(f,{class:"box-card",shadow:"hover"},{header:ko((function(){return[Object(n["createVNode"])("div",wo,[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("stats.most_popular")),1)])]})),default:ko((function(){return[Object(n["createVNode"])(b,{width:"500",type:"bar",options:a.barchartOptions,series:a.popularSeries},null,8,["options","series"])]})),_:1}),Object(n["createVNode"])("div",null,[Object(n["createVNode"])(O,{title:e.$t("bill.details"),modelValue:a.detailVisible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.detailVisible=e}),"destroy-on-close":"",width:"70%"},{default:ko((function(){return[Object(n["createVNode"])(h,{data:e.currentBill,key:r.randKey},null,8,["data"])]})),_:1},8,["title","modelValue"])])]})),_:1}),Object(n["createVNode"])(m,{span:12},{default:ko((function(){return[Object(n["createVNode"])(j,null,{default:ko((function(){return[Object(n["createVNode"])(m,{span:12},{default:ko((function(){return[Object(n["createVNode"])(f,{class:"box-card",shadow:"hover"},{default:ko((function(){return[Object(n["createVNode"])("span",xo,Object(n["toDisplayString"])(e.$t("stats.total")),1),Object(n["createVNode"])("span",Io,Object(n["toDisplayString"])(r.formatAmount(a.stats.sospeso)),1)]})),_:1})]})),_:1}),Object(n["createVNode"])(m,{span:12},{default:ko((function(){return[Object(n["createVNode"])(f,{class:"box-card",shadow:"hover"},{default:ko((function(){return[Object(n["createVNode"])("span",Ao,Object(n["toDisplayString"])(e.$t("stats.opened_bills")),1),Object(n["createVNode"])("span",Bo,Object(n["toDisplayString"])(a.stats.contiAperti),1)]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(j,null,{default:ko((function(){return[Object(n["createVNode"])(m,{span:24},{default:ko((function(){return[Object(n["createVNode"])(f,{class:"box-card",shadow:"hover"},{header:ko((function(){return[Object(n["createVNode"])("div",To,[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("stats.quantity")),1)])]})),default:ko((function(){return[Object(n["createVNode"])(b,{width:"500",type:"line",options:a.chartOptions,series:a.vendutoSeries},null,8,["options","series"])]})),_:1}),Object(n["createVNode"])(f,{class:"box-card",shadow:"hover"},{header:ko((function(){return[Object(n["createVNode"])("div",$o,[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.$t("stats.value")),1)])]})),default:ko((function(){return[Object(n["createVNode"])(b,{width:"500",type:"line",options:a.chartOptions,series:a.incassatoSeries},null,8,["options","series"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])})),Eo={name:"ContiParcheggiati",components:{BillDetail:go,apexchart:Vo.a},data:function(){return{detailVisible:!1,tableData:[],daterange:null,searchByRange:!1,chartOptions:{chart:{id:"venduto"},xaxis:{categories:[]},stroke:{curve:"smooth"}},barchartOptions:{chart:{id:"popular"},xaxis:{categories:[]},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1}},vendutoSeries:[{name:"venduto",data:[]}],incassatoSeries:[{name:"incassato",data:[]}],popularSeries:[{name:"popular",data:[]}],stats:{sospeso:0,contiAperti:0,collection:{}}}},methods:{selectRange:function(e){this.daterange=e,this.loadData(!0)},rangeChecked:function(e){0==e&&this.loadData(!1)},loadDefaultData:function(){this.loadData(!1)},formatAmount:function(e){return e.toFixed(2)},loadData:function(e){var t=this;this.tableData=[],e?Te.db.collection("park").where("order.lastModified","<=",this.daterange[1]).where("order.lastModified",">=",this.daterange[0]).orderBy("order.lastModified","desc").onSnapshot((function(e){t.docs=[],e.forEach((function(e){var o=e.data().order;t.docs.push({id:e.id,data:o})})),t.handleDocs()})):Te.db.collection("park").orderBy("order.lastModified","desc").onSnapshot((function(e){t.docs=[],e.forEach((function(e){var o=e.data().order;o.orderList.length>0&&t.docs.push({id:e.id,data:o})})),t.handleDocs()}))},handleDocs:function(){this.tableData=[],this.vendutoSeries[0].data=[],this.incassatoSeries[0].data=[],this.popularSeries[0].data=[],this.stats.sospeso=0,this.stats.contiAperti=0,this.stats.collection={};for(var e=0;e<=16;e++)this.vendutoSeries[0].data[e]=0,this.incassatoSeries[0].data[e]=0;this.stats.contiAperti=this.docs.length;for(var t=0;t<this.docs.length;t++)this.stats.sospeso+=this.docs[t].data.totale,this.tableData.push({date:kt.toDateTime(this.docs[t].data.lastModified),amount:this.docs[t].data.totale.toFixed(2)}),this.collectData(this.docs[t].data.orderList);console.log("collectData",this.stats.collection);var o=this.getSortedKeys(this.stats.collection);for(t=0;t<Math.min(20,o.length);t++)this.barchartOptions.xaxis.categories[t]=o[t],this.popularSeries[0].data[t]=this.stats.collection[o[t]]},collectData:function(e){for(var t=0;t<e.length;t++){var o=new Date(e[t].insertTime),n=o.getHours();this.vendutoSeries[0].data[n-8]++,this.incassatoSeries[0].data[n-8]+=e[t].price*e[t].quantity,e[t].name in this.stats.collection?this.stats.collection[e[t].name]+=e[t].quantity:this.stats.collection[e[t].name]=e[t].quantity}},getSortedKeys:function(e){var t=Object.keys(e);return t.sort((function(t,o){return e[o]-e[t]}))},randKey:function(){return Math.random()},handleDetail:function(e){this.currentBill=this.docs[e],this.detailVisible=!0},initGraphOptions:function(){for(var e=8;e<=24;e++)this.chartOptions.xaxis.categories[e-8]=e}},mounted:function(){this.loadDefaultData(),this.initGraphOptions()}};o("23a2");const Lo=D()(Eo,[["render",Po],["__scopeId","data-v-3922cc39"]]);var Fo=Lo,zo={name:"Conti",components:{ContiChiusi:Co,ContiParcheggiati:Fo},data:function(){return{}},methods:{handleTabClick:function(){},goBack:function(){this.$router.push("/")},randKey:function(){return Math.random()}},mounted:function(){}};o("bce3");const Uo=D()(zo,[["render",Tt],["__scopeId","data-v-090e6844"]]);var Mo=Uo,Ro=Object(n["withScopeId"])("data-v-743ca8f3");Object(n["pushScopeId"])("data-v-743ca8f3");var Ho={class:"inventory"},Go={class:"title"},qo={class:"inventory-body"},Qo={class:"list"};Object(n["popScopeId"])();var Ko=Ro((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-button"),l=Object(n["resolveComponent"])("el-col"),s=Object(n["resolveComponent"])("el-row"),d=Object(n["resolveComponent"])("el-table-column"),u=Object(n["resolveComponent"])("el-table"),p=Object(n["resolveComponent"])("product-form"),b=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])("div",Ho,[Object(n["createVNode"])("div",Go,Object(n["toDisplayString"])(e.$t("pricelist.products")),1),Object(n["createVNode"])("div",qo,[Object(n["createVNode"])(s,null,{default:Ro((function(){return[Object(n["createVNode"])(l,{span:4},{default:Ro((function(){return[Object(n["createVNode"])(i,{type:"primary",onClick:t[1]||(t[1]=function(e){return a.dialogVisible=!0})},{default:Ro((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.new")),1)]})),_:1})]})),_:1}),Object(n["createVNode"])(l,{span:4},{default:Ro((function(){return[Object(n["createVNode"])(i,{type:"success",size:"small",plain:"",onClick:r.exportJson},{default:Ro((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("inventory.export")),1)]})),_:1},8,["onClick"])]})),_:1}),Object(n["createVNode"])(l,{span:6},{default:Ro((function(){return[Object(n["createVNode"])("input",{label:e.$t("inventory.import"),type:"file",onChange:t[2]||(t[2]=function(){return r.loadTextFromFile&&r.loadTextFromFile.apply(r,arguments)})},null,40,["label"])]})),_:1})]})),_:1}),Object(n["createVNode"])("div",Qo,[Object(n["createVNode"])(u,{data:a.tableData,height:"800",style:{width:"80%"},onRowClick:e.rowClick},{default:Ro((function(){return[Object(n["createVNode"])(d,{prop:"code",label:e.$t("product.code"),width:"100"},null,8,["label"]),Object(n["createVNode"])(d,{prop:"name",label:e.$t("product.name"),width:"250"},null,8,["label"]),Object(n["createVNode"])(d,{prop:"price",label:e.$t("product.price"),width:"180"},null,8,["label"]),Object(n["createVNode"])(d,{prop:"inventory",label:e.$t("inventory.availability"),width:"180"},null,8,["label"]),Object(n["createVNode"])(d,{label:"",width:"100"},{default:Ro((function(t){return[Object(n["createVNode"])(i,{type:"primary",plain:"",size:"mini",onClick:function(e){return r.handleEdit(t.$index,t.row)}},{default:Ro((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.edit")),1)]})),_:2},1032,["onClick"])]})),_:1}),Object(n["createVNode"])(d,{label:"",width:"100"},{default:Ro((function(t){return[Object(n["createVNode"])(i,{type:"warning",plain:"",size:"mini",onClick:function(e){return r.handleDuplicate(t.$index,t.row)}},{default:Ro((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.duplicate")),1)]})),_:2},1032,["onClick"])]})),_:1}),Object(n["createVNode"])(d,{label:"",width:"100"},{default:Ro((function(e){return[Object(n["createVNode"])(i,{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",onClick:function(t){return r.handleDelete(e.$index,e.row)}},null,8,["onClick"])]})),_:1})]})),_:1},8,["data","onRowClick"])]),Object(n["createVNode"])("div",null,[Object(n["createVNode"])(b,{title:r.getHeader(),modelValue:a.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.dialogVisible=e}),"before-close":r.handleClose,"destroy-on-close":"",width:"80%"},{default:Ro((function(){return[Object(n["createVNode"])(p,{data:a.currentProduct,documentId:a.documentId,categories:a.categories,key:r.randKey,onProductUpdated:r.productUpdated,onProductCreated:r.productCreated,onProductCanceled:r.productCanceled},null,8,["data","documentId","categories","onProductUpdated","onProductCreated","onProductCanceled"])]})),_:1},8,["title","modelValue","before-close"])])])])})),Zo=(o("3ca3"),o("2b3d"),o("a15b"),Object(n["withScopeId"])("data-v-cd4a42d0"));Object(n["pushScopeId"])("data-v-cd4a42d0");var Yo={class:"product-form"},Xo=Object(n["createTextVNode"])(" "),Jo=Object(n["createTextVNode"])(" ");Object(n["popScopeId"])();var Wo=Zo((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-input"),l=Object(n["resolveComponent"])("el-form-item"),s=Object(n["resolveComponent"])("el-col"),d=Object(n["resolveComponent"])("el-option"),u=Object(n["resolveComponent"])("el-select"),p=Object(n["resolveComponent"])("el-button"),b=Object(n["resolveComponent"])("el-row"),f=Object(n["resolveComponent"])("color-selector"),h=Object(n["resolveComponent"])("el-radio"),O=Object(n["resolveComponent"])("el-radio-group"),m=Object(n["resolveComponent"])("el-tab-pane"),j=Object(n["resolveComponent"])("el-checkbox"),g=Object(n["resolveComponent"])("el-switch"),v=Object(n["resolveComponent"])("el-tabs"),V=Object(n["resolveComponent"])("el-form");return Object(n["openBlock"])(),Object(n["createBlock"])("div",Yo,[Object(n["createVNode"])(V,{ref:"product",model:a.product,"label-width":"150px"},{default:Zo((function(){return[Object(n["createVNode"])(v,{class:"conti-tab",type:"card"},{default:Zo((function(){return[Object(n["createVNode"])(m,{label:e.$t("product.settings")},{default:Zo((function(){return[Object(n["createVNode"])(l,{label:e.$t("product.name")},{default:Zo((function(){return[Object(n["createVNode"])(i,{modelValue:a.product.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.product.name=e})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(s,{span:6},{default:Zo((function(){return[Object(n["createVNode"])(l,{label:e.$t("product.code")},{default:Zo((function(){return[Object(n["createVNode"])(i,{modelValue:a.product.code,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.product.code=e})},null,8,["modelValue"])]})),_:1},8,["label"])]})),_:1}),Object(n["createVNode"])(l,{label:e.$t("product.category")},{default:Zo((function(){return[Object(n["createVNode"])(s,{span:11},{default:Zo((function(){return[Object(n["createVNode"])(u,{modelValue:a.product.category,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.product.category=e}),placeholder:e.$t("product.category")},{default:Zo((function(){return[Object(n["createVNode"])(d,{label:"none",value:"none"}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(o.categories,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:e.id,label:e.name,value:"cat.name"},null,8,["label"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1}),Object(n["createVNode"])(s,{span:2},{default:Zo((function(){return[Xo]})),_:1}),Object(n["createVNode"])(s,{span:11},{default:Zo((function(){return[Object(n["createVNode"])(p,{type:"primary",plain:"",size:"small",onClick:r.newCategory},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product.new_category")),1)]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(s,{span:6},{default:Zo((function(){return[Object(n["createVNode"])(l,{label:e.$t("product.price")},{default:Zo((function(){return[Object(n["createVNode"])(i,{modelValue:a.product.price,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.product.price=e})},null,8,["modelValue"])]})),_:1},8,["label"])]})),_:1}),Object(n["createVNode"])(s,{span:2},{default:Zo((function(){return[Jo]})),_:1}),Object(n["createVNode"])(l,{label:e.$t("product.vat")},{default:Zo((function(){return[Object(n["createVNode"])(s,{span:8},{default:Zo((function(){return[Object(n["createVNode"])(u,{modelValue:a.product.vat.vatRate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.product.vat.vatRate=e}),placeholder:e.$t("product.vat")},{default:Zo((function(){return[Object(n["createVNode"])(d,{label:"none",value:"none"}),Object(n["createVNode"])(d,{label:"10%",value:"10.00"}),Object(n["createVNode"])(d,{label:"22%",value:"22.00"})]})),_:1},8,["modelValue","placeholder"])]})),_:1})]})),_:1},8,["label"]),Object(n["createVNode"])(s,{span:6},{default:Zo((function(){return[Object(n["createVNode"])(f,{onColorPicked:r.colorPicked},null,8,["onColorPicked"])]})),_:1})]})),_:1}),Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(s,{span:24},{default:Zo((function(){return[Object(n["createVNode"])(l,{label:e.$t("product.type")},{default:Zo((function(){return[Object(n["createVNode"])(O,{modelValue:a.product.type,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.product.type=e})},{default:Zo((function(){return[Object(n["createVNode"])(h,{label:0},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product_type.normal")),1)]})),_:1}),Object(n["createVNode"])(h,{label:1},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product_type.bundle")),1)]})),_:1}),Object(n["createVNode"])(h,{label:2},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product_type.measure")),1)]})),_:1}),Object(n["createVNode"])(h,{label:3},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product_type.compose")),1)]})),_:1}),Object(n["createVNode"])(h,{label:-1},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product_type.variant")),1)]})),_:1}),Object(n["createVNode"])(h,{label:-2},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("product_type.ingredient")),1)]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label"])]})),_:1})]})),_:1}),Object(n["createVNode"])(l,{label:e.$t("product.description")},{default:Zo((function(){return[Object(n["createVNode"])(i,{type:"textarea",modelValue:a.product.description,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.product.description=e})},null,8,["modelValue"])]})),_:1},8,["label"])]})),_:1},8,["label"]),Object(n["createVNode"])(m,{label:e.$t("inventory.inventory")},{default:Zo((function(){return[Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(s,{span:6},{default:Zo((function(){return[Object(n["createVNode"])(l,null,{default:Zo((function(){return[Object(n["createVNode"])(j,{modelValue:a.product.inventory.enabled,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.product.inventory.enabled=e})},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("inventory.enabled")),1)]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(n["createVNode"])(s,{span:6},{default:Zo((function(){return[Object(n["createVNode"])(l,{label:e.$t("inventory.availability")},{default:Zo((function(){return[Object(n["createVNode"])(i,{modelValue:a.product.inventory.availability,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.product.inventory.availability=e}),disabled:0==a.product.inventory.enabled},null,8,["modelValue","disabled"])]})),_:1},8,["label"])]})),_:1}),Object(n["createVNode"])(s,{span:6},{default:Zo((function(){return[Object(n["createVNode"])(l,{label:e.$t("inventory.alarm")},{default:Zo((function(){return[Object(n["createVNode"])(i,{modelValue:a.product.inventory.alarm,"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.product.inventory.alarm=e}),disabled:0==a.product.inventory.enabled},null,8,["modelValue","disabled"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1},8,["label"]),Object(n["createVNode"])(m,{label:e.$t("product.options")},{default:Zo((function(){return[Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(l,{label:e.$t("product.cost")},{default:Zo((function(){return[Object(n["createVNode"])(s,{span:11},{default:Zo((function(){return[Object(n["createVNode"])(i,{modelValue:a.product.cost,"onUpdate:modelValue":t[11]||(t[11]=function(e){return a.product.cost=e})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(s,{span:12},{default:Zo((function(){return[Object(n["createVNode"])(l,null,{default:Zo((function(){return[Object(n["createVNode"])("div",null,Object(n["toDisplayString"])(e.$t("product.available_for_takeaway")),1),Object(n["createVNode"])(g,{modelValue:a.product.takeaway,"onUpdate:modelValue":t[12]||(t[12]=function(e){return a.product.takeaway=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(s,{span:12},{default:Zo((function(){return[Object(n["createVNode"])(l,null,{default:Zo((function(){return[Object(n["createVNode"])("div",null,Object(n["toDisplayString"])(e.$t("product.available_for_remote_order")),1),Object(n["createVNode"])(g,{modelValue:a.product.remote_order,"onUpdate:modelValue":t[13]||(t[13]=function(e){return a.product.remote_order=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(s,{span:12},{default:Zo((function(){return[Object(n["createVNode"])(l,null,{default:Zo((function(){return[Object(n["createVNode"])("div",null,Object(n["toDisplayString"])(e.$t("product.open_note")),1),Object(n["createVNode"])(g,{modelValue:a.product.open_note,"onUpdate:modelValue":t[14]||(t[14]=function(e){return a.product.open_note=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(b,null,{default:Zo((function(){return[Object(n["createVNode"])(s,{span:12},{default:Zo((function(){return[Object(n["createVNode"])(l,null,{default:Zo((function(){return[Object(n["createVNode"])("div",null,Object(n["toDisplayString"])(e.$t("product.specify_price")),1),Object(n["createVNode"])(g,{modelValue:a.product.price_to_be_confirmed,"onUpdate:modelValue":t[15]||(t[15]=function(e){return a.product.price_to_be_confirmed=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(n["createVNode"])(l,null,{default:Zo((function(){return[Object(n["createVNode"])(p,{type:"primary",onClick:r.onSubmit},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("generic.ok")),1)]})),_:1},8,["onClick"]),Object(n["createVNode"])(p,{onClick:r.onCancel},{default:Zo((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("generic.cancel")),1)]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])])})),en=Object(n["withScopeId"])("data-v-3180052e");Object(n["pushScopeId"])("data-v-3180052e");var tn={class:"selector"};Object(n["popScopeId"])();var on=en((function(e,t,o,c,a,r){return Object(n["openBlock"])(),Object(n["createBlock"])("div",tn,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.colors,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"color-button",style:r.getBgc(e),key:e,onClick:function(t){return r.selectColor(e)}},null,12,["onClick"])})),128))])})),nn={name:"ColorSelector",props:["data"],data:function(){return{colors:["#00AAE6","#2B73FD","#6F4EFF","#9F41F1","#9E2FBD","#DC5CDC","#EA489C","#FF83A8","#D70050","#EB3D34","#F98E2D","#F6CD2D","#93CB00","#61D16F","#39C5AB","#87989F"],colorString:"",bgc:{backgroundColor:"#fff"}}},methods:{getBgc:function(e){return""!=e&&(this.bgc.backgroundColor=e),this.bgc},selectColor:function(e){this.colorString=e,this.$emit("colorPicked",e)}},mounted:function(){}};o("c62e");const cn=D()(nn,[["render",on],["__scopeId","data-v-3180052e"]]);var an=cn,rn={name:"ProductForm",props:["data","documentId","categories"],data:function(){return{product:new St,suckerCanvas:null,suckerArea:[],isSucking:!1,color:""}},components:{ColorSelector:an},methods:{onSubmit:function(){var e=this;console.log("onSubmit",this.product),console.log("onSubmit",this.documentId);var t=Object.assign({},this.product);""==this.documentId?(console.log("onSubmit",t),Te.db.collection("products").add(t).then((function(t){console.log("Document written with ID: ",t.id),e.$emit("productCreated",e.product)})).catch((function(e){console.error("Error adding document: ",e)}))):Te.db.collection("products").doc(this.documentId).set(t,{merge:!0}).then((function(){console.log("Document successfully written!"),e.$emit("productUpdated",e.product)})).catch((function(e){console.error("Error writing document: ",e)}))},onCancel:function(){this.$emit("productCanceled",this.product)},newCategory:function(){var e=this;this.$prompt(this.$t("product.new_category"),this.$t("product.name"),{confirmButtonText:this.$t("generic.ok"),cancelButtonText:this.$t("generic.cancel")}).then((function(t){var o=t.value;e.insertNewCategory(o)})).catch((function(){}))},colorPicked:function(e){this.product.color=e},insertNewCategory:function(e){Te.db.collection("categories").add({id:kt.uuidv4(),name:e}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}},mounted:function(){console.log("mounted",this.data),this.product=this.data,this.color=this.product.color}};o("4a44");const ln=D()(rn,[["render",Wo],["__scopeId","data-v-cd4a42d0"]]);var sn=ln,dn={name:"Inventory",components:{ProductForm:sn},data:function(){return{dialogVisible:!1,tableData:[],currentProduct:new St,documentId:"",categories:[],products:[]}},methods:{productCreated:function(e){console.log("productCreated",e),this.resetDialog()},productCanceled:function(){console.log("productCanceled",event),this.resetDialog()},resetDialog:function(){console.log("resetDialog"),this.currentProduct=new St,this.documentId="",this.dialogVisible=!1},handleClose:function(){this.resetDialog()},productUpdated:function(e){console.log("productUpdated",e),this.resetDialog()},handleEdit:function(e){this.currentProduct=this.products[e],this.documentId=this.products[e].id,console.log("handleEdit",this.currentProduct),this.dialogVisible=!0},handleDuplicate:function(e){var t=this.products[e],o=Object.assign({},t);o.name=o.name+" (copia)",Te.db.collection("products").add(o).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))},handleDelete:function(e){var t=this;this.documentId=this.products[e].id,this.$confirm(this.$t("inventory.ask_delete_product"),"Warning",{confirmButtonText:this.$t("generic.ok"),cancelButtonText:this.$t("generic.cancel"),type:"warning"}).then((function(){var e=Te.db.collection("products").doc(t.documentId);console.log(t.documentId,e),e.update({status:-1}).then((function(){t.$message({type:"success",message:"Delete completed"})})).catch((function(e){t.$message({type:"error",message:"Delete error: "+e})}))}))},loadProducts:function(){var e=this;Te.db.collection("products").where("status","==",1).orderBy("name").onSnapshot((function(t){e.products=[],t.forEach((function(t){var o=t.data();o.id=t.id,e.products.push(o)})),e.handleProductTable()}))},loadCategories:function(){var e=this;Te.db.collection("categories").orderBy("id").onSnapshot((function(t){t.forEach((function(t){var o=t.data();e.categories.push(o),e.loadProducts()}))}))},handleProductTable:function(){this.tableData=[];for(var e=0;e<this.products.length;e++)this.tableData.push({code:this.products[e].code,name:this.products[e].name,price:Number(this.products[e].price).toFixed(2),inventory:Number(this.products[e].inventory.availability)})},randKey:function(){return Math.random()},exportJson:function(){var e=JSON.stringify(this.products),t=new Blob([e],{type:"text/plain"}),o=document.createEvent("MouseEvents"),n=document.createElement("a");n.download="test.json",n.href=window.URL.createObjectURL(t),n.dataset.downloadurl=["text/json",n.download,n.href].join(":"),o.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)},loadTextFromFile:function(e){var t=this,o=e.target.files[0],n=new FileReader;n.onload=function(e){return t.parseProducts(e.target.result)},n.readAsText(o)},parseProducts:function(e){var t=JSON.parse(e);console.log("parseProducts",t.length),Te.db.collection("products").get().then((function(e){e.docs.forEach((function(e){e.ref.delete()}));for(var o=0;o<t.length;o++)Te.db.collection("products").doc(t[o].id).set(t[o].data)}))},getHeader:function(){return this.currentProduct.name.length>0?this.currentProduct.name:this.$t("product.product")}},mounted:function(){this.loadCategories()}};o("626c");const un=D()(dn,[["render",Ko],["__scopeId","data-v-743ca8f3"]]);var pn=un,bn=Object(n["withScopeId"])("data-v-02a0766f");Object(n["pushScopeId"])("data-v-02a0766f");var fn=Object(n["createTextVNode"])("genera");Object(n["popScopeId"])();var hn=bn((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-button");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(i,{onClick:r.generate},{default:bn((function(){return[fn]})),_:1},8,["onClick"])])})),On={name:"Settings",components:{},data:function(){return{}},methods:{generate:function(){for(var e=[50,20,15,10],t=0;t<4;t++){for(var o={id:Number(t+1),name:"Area "+(t+1),places:[]},n=0;n<e[t];n++){var c={id:Number(n+1),name:n+1,places:2,order:Object.assign({},new Vt)};o.places.push(c)}Te.db.collection("park").add(o).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}}},mounted:function(){}};const mn=D()(On,[["render",hn],["__scopeId","data-v-02a0766f"]]);var jn=mn,gn=Object(n["withScopeId"])("data-v-3b4bf39b");Object(n["pushScopeId"])("data-v-3b4bf39b");var vn={class:"floor"},Vn={class:"areas-toolbar"},Nn={class:"area-buttons"},yn={class:"grid"},Cn={class:"inner-table"},kn={class:"table-name"},Dn={class:"table-last-modification"},Sn={class:"menu-header"},_n={class:"menu-item"},wn={class:"menu-item"};Object(n["popScopeId"])();var xn=gn((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-button"),l=Object(n["resolveComponent"])("el-divider"),s=Object(n["resolveComponent"])("shopping-cart"),d=Object(n["resolveComponent"])("el-icon"),u=Object(n["resolveComponent"])("calendar"),p=Object(n["resolveComponent"])("delete"),b=Object(n["resolveComponent"])("location"),f=Object(n["resolveComponent"])("Popper");return Object(n["openBlock"])(),Object(n["createBlock"])("div",vn,[Object(n["createVNode"])("div",Vn,[Object(n["createVNode"])("div",Nn,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.areas,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{type:"info",round:"",key:e.id,class:r.getButtonClass(e.id),onClick:function(t){return r.selectArea(e)}},{default:gn((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.name),1)]})),_:2},1032,["class","onClick"])})),128)),Object(n["createVNode"])(i,{round:"",class:"button-new",onClick:r.addArea},{default:gn((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("floor.new_area")),1)]})),_:1},8,["onClick"])])]),Object(n["createVNode"])("div",yn,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.currentArea.places,(function(o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:o.id,class:"table"},[Object(n["createVNode"])(f,{offsetSkid:"100",offsetDistance:"-20"},{content:gn((function(){return[Object(n["createVNode"])("span",Sn,Object(n["toDisplayString"])(e.$t("bill.place",{description:o.name})),1),Object(n["createVNode"])(l),Object(n["createVNode"])("span",{class:"menu-item",onClick:function(e){return r.selectTable(o.id)}},[Object(n["createVNode"])(d,null,{default:gn((function(){return[Object(n["createVNode"])(s)]})),_:1}),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("bill.order")),1)],8,["onClick"]),Object(n["createVNode"])(l),Object(n["createVNode"])("span",_n,[Object(n["createVNode"])(d,null,{default:gn((function(){return[Object(n["createVNode"])(u)]})),_:1}),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("booking.booking")),1)]),Object(n["createVNode"])(l),Object(n["createVNode"])("span",wn,[Object(n["createVNode"])(d,null,{default:gn((function(){return[Object(n["createVNode"])(p)]})),_:1}),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("generic.deletion")),1)]),Object(n["createVNode"])(l),Object(n["createVNode"])("span",{class:"menu-item",onClick:t[1]||(t[1]=function(){return r.move&&r.move.apply(r,arguments)})},[Object(n["createVNode"])(d,null,{default:gn((function(){return[Object(n["createVNode"])(b)]})),_:1}),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("modification.move")),1)])]})),default:gn((function(){return[Object(n["createVNode"])("div",Cn,[Object(n["createVNode"])("div",{class:r.getStatusClass(o)}," ",2),Object(n["createVNode"])("span",kn,Object(n["toDisplayString"])(o.name),1),Object(n["createVNode"])("div",Dn,Object(n["toDisplayString"])(r.getLastMod(o)),1)])]})),_:2},1024)])})),128))])])})),In=o("4b43"),An=(o("2b36"),o("3f48")),Bn=o("fc88"),Tn=o("a2ce"),$n=o("6e75"),Pn={name:"Floor",components:{Popper:In["a"],Calendar:An["a"],Delete:Bn["a"],ShoppingCart:Tn["a"],Location:$n["a"]},props:["order"],data:function(){return{areas:[],currentArea:{}}},methods:{move:function(){this.$message({message:this.$t("modification.move_explain"),type:"error",showClose:!1,duration:0})},selectTable:function(e){this.$router.push({name:"frontend",params:{room:JSON.stringify({docId:this.currentArea.docId,id:this.currentArea.id,name:this.currentArea.name}),place:e}})},getStatusClass:function(e){return e.order.size()>0?"status-busy":"status-free"},getLastMod:function(e){if(e.order.size()>0){var t=new Date,o=0,n=0,c=Math.floor((t.getTime()/1e3-e.order.lastModified.toDate().getTime()/1e3)/60);return o=Math.floor(c/60),o>0&&(c%=60),n=Math.floor(o/24),n>0&&(o%=24),n+" day - "+o+" h - "+c+" min"}return""},selectArea:function(e){this.currentArea=e},getNextAreaId:function(){for(var e=0,t=0;t<this.areas.length;t++)this.areas[t].id>e&&(e=this.areas[t].id);return Number(e+1)},addArea:function(){var e=this;this.$prompt("",this.$t("floor.new_area"),{confirmButtonText:this.$t("generic.ok"),cancelButtonText:this.$t("generic.cancel")}).then((function(t){var o=t.value;Te.db.collection("park").add({id:e.getNextAreaId(),name:o,places:[]}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))})).catch((function(){}))},getButtonClass:function(e){return null==this.currentArea||e!=this.currentArea.id?"button-idle":"button-active"},getParks:function(){var e=this;Te.db.collection("park").orderBy("id").onSnapshot((function(t){e.areas=[],t.forEach((function(t){var o=t.data();o.docId=t.id;for(var n=o.places,c=0;c<n.length;c++){var a=new Vt;a.fillData(n[c].order),n[c].order=a}e.areas.push(o),console.log(o.name)})),e.currentArea=e.areas[0]}))}},mounted:function(){this.getParks()}};o("28a36");const En=D()(Pn,[["render",xn],["__scopeId","data-v-3b4bf39b"]]);var Ln=En,Fn=Object(n["withScopeId"])("data-v-7f2d20eb");Object(n["pushScopeId"])("data-v-7f2d20eb");var zn={id:"login"},Un={class:"container"},Mn={class:"pin"},Rn={class:"keypad"},Hn=Object(n["createTextVNode"])("←"),Gn=Object(n["createTextVNode"])("Ok");Object(n["popScopeId"])();var qn=Fn((function(e,t,o,c,a,r){var i=Object(n["resolveComponent"])("el-button");return Object(n["openBlock"])(),Object(n["createBlock"])("div",zn,[Object(n["createVNode"])("div",Un,[Object(n["createVNode"])("div",Mn,Object(n["toDisplayString"])(a.pin),1),Object(n["createVNode"])("div",Rn,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.keys,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e,onClick:function(t){return r.press(e)},type:"primary",plain:""},{default:Fn((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e),1)]})),_:2},1032,["onClick"])})),128)),Object(n["createVNode"])(i,{type:"danger",plain:"",onClick:r.clear},{default:Fn((function(){return[Hn]})),_:1},8,["onClick"]),Object(n["createVNode"])(i,{type:"success",plain:"",onClick:r.enter},{default:Fn((function(){return[Gn]})),_:1},8,["onClick"])])])])})),Qn=o("ade3"),Kn=function(){function e(t,o){Object(jt["a"])(this,e),this.time=new Date,this.operator={id:y.getId(),name:y.getName()},this.event=t,this.bookingId=o}return Object(gt["a"])(e,[{key:"writeLog",value:function(){Te.db.collection("logs").add(Object.assign({},this)).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}},{key:"getType",value:function(){return this.event.type}},{key:"isLoggable",value:function(){return this.type==this.EVENT_MODIFY_BOOKING||this.type==this.EVENT_NEW_BOOKING}}],[{key:"isLoggable",value:function(e){return e==this.EVENT_MODIFY_BOOKING||e==this.EVENT_NEW_BOOKING}}]),e}();Object(Qn["a"])(Kn,"EVENT_MODIFY_BOOKING",101),Object(Qn["a"])(Kn,"EVENT_NEW_BOOKING",102),Object(Qn["a"])(Kn,"EVENT_LOGIN",201),Object(Qn["a"])(Kn,"EVENT_LOGOUT",202);var Zn={name:"Login",components:{},data:function(){return{pin:"",keys:[1,2,3,4,5,6,7,8,9,0]}},methods:{press:function(e){this.pin+=e},clear:function(){this.pin=this.pin.substring(0,this.pin.length-1)},enter:function(){this.userLogin()},loginFail:function(){this.$message({message:this.$t("login.wrong_login"),type:"error"})},setOperator:function(e){console.log("setOperator",e),this.$message({message:"Welcome "+e.name,type:"success"}),this.$router.push("/frontend")},loginSuccess:function(e,t){y.setUserLogged({loggedIn:!0,id:e,name:t.name,permissions:t.permissions});var o={type:Kn.EVENT_LOGIN,description:y.name+" "+this.$t("login.loggedin"),comment:""};new Kn(o,0).writeLog(),this.setOperator(y)},userLogin:function(){var e=this;Te.db.collection("operators").where("pin","==",this.pin).get().then((function(t){t.empty?e.loginFail():t.forEach((function(t){console.log(t.id," => ",t.data()),e.loginSuccess(t.id,t.data())}))})).catch((function(t){console.log("Error getting documents: ",t),e.loginFail()}))}},mounted:function(){}};o("eac7");const Yn=D()(Zn,[["render",qn],["__scopeId","data-v-7f2d20eb"]]);var Xn=Yn,Jn=[{path:"/frontend/",name:"frontend",component:It,props:function(e){return Object(P["a"])({},e.params)}},{path:"/",name:"home",component:_},{path:"/login",name:"login",component:Xn},{path:"/conti",name:"conti",component:Mo},{path:"/floor",name:"floor",component:Ln},{path:"/settings",name:"settings",component:jn},{path:"/inventory",name:"inventory",component:pn}],Wn=Object(E["a"])({history:Object(E["b"])(),routes:Jn}),ec=Wn;function tc(){var e=o("49f8"),t={};return e.keys().forEach((function(o){var n=o.match(/([a-z0-9]+)\./i);if(n&&n.length>1){var c=n[1];t[c]=e(o)}})),t}var oc=Object(c["a"])({locale:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_I18N_LOCALE||"it",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_I18N_FALLBACK_LOCALE||"it",messages:tc()}),nc=Object(n["createApp"])(I);$(nc),nc.use(ec),nc.use(oc),nc.mount("#app")},"56e5":function(e,t,o){"use strict";o("3b73")},"5a19":function(e,t,o){e.exports=o.p+"img/avatar.97311059.png"},"5a44":function(e,t,o){"use strict";o("3501")},"5a50":function(e,t,o){},"626c":function(e,t,o){"use strict";o("4bcf")},"6e99":function(e,t,o){"use strict";o("2b80")},"874c":function(e,t,o){},8790:function(e,t,o){},9545:function(e,t,o){},"9fb0":function(e,t){e.exports="data:image/png;base64,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"},a6b5:function(e,t,o){},ac17:function(e,t,o){},b393:function(e,t,o){},b651:function(e,t){e.exports="data:image/png;base64,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"},b7be:function(e,t,o){"use strict";o("874c")},bce3:function(e,t,o){"use strict";o("bdd2")},bdd2:function(e,t,o){},c121:function(e,t,o){e.exports=o.p+"img/user.37c3ea6b.png"},c62e:function(e,t,o){"use strict";o("2450")},dec9:function(e,t,o){},e8f6:function(e,t,o){"use strict";o("f423")},e9c9:function(e,t,o){"use strict";o("dec9")},eac7:function(e,t,o){"use strict";o("8790")},edd6:function(e,t,o){"use strict";o("2001")},f423:function(e,t,o){},f9c7:function(e,t,o){},fa5c:function(e,t,o){"use strict";o("5a50")}});
//# sourceMappingURL=app.a6bd94fd.js.map